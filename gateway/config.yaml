# Alfred Gateway Configuration
# CONFLICT-FREE: Uses completely separate resources from Clawdbot
#
# Key isolation measures:
#   - Different bot tokens (mandatory)
#   - Different signal-cli data directory (/root/.signal-cli-alfred)
#   - Different ports (8765 vs Clawdbot's 18789)
#   - Different process name (alfred-gateway vs clawdbot)
#   - Different installation directory (/opt/alfred vs wherever Clawdbot is)

gateway:
  name: "alfred-gateway"
  log_level: "INFO"
  # Health check on different port than Clawdbot (which uses 18789)
  health_check_port: 8765

# Your user IDs - only YOU can interact with Alfred (comma-separated for multiple)
owner:
  telegram_id: "428068098,1803061323"  # @drss00 and @helloworld2409
  discord_id: ""         # Enable Developer Mode, right-click yourself, Copy ID
  signal_number: "+918527086157"      # Your phone number (+1234567890 format)

# Agent Zero connection
agent_zero:
  # "direct" = import Agent Zero Python modules directly
  # "api" = connect via HTTP API (recommended for Docker)
  mode: "api"
  api_url: "http://alfred-ai:50001/api_message"
  agent_zero_path: "/app/agent-zero1"
  agent_name: "alfred"

# ============================================================
# TELEGRAM - Must use DIFFERENT bot token than Clawdbot
# ============================================================
telegram:
  enabled: true
  # @Alfred_BatmanBot - created via @BotFather
  bot_token: "8552150374:AAGntEF09H89r5YOm6Dj8bBe_aN8dgWpom4"
  # Polling is more reliable for single-user
  use_polling: true

# ============================================================
# DISCORD - Must use DIFFERENT application than Clawdbot
# ============================================================
discord:
  enabled: false
  # Create NEW application at: https://discord.com/developers/applications
  # DO NOT reuse Clawdbot's Discord bot
  bot_token: ""

# ============================================================
# SIGNAL - Uses SEPARATE data directory to avoid conflicts
# ============================================================
signal:
  enabled: true
  # CRITICAL: This MUST be different from Clawdbot's signal-cli directory
  # Clawdbot typically uses: ~/.signal-cli or ~/.local/share/signal-cli
  # We use: /root/.signal-cli-alfred (completely separate)
  data_dir: "/root/.signal-cli-alfred"
  phone_number: "+918527086157"  # Register a NEW number or link as secondary device
  signal_cli_path: "/usr/local/bin/signal-cli"

# Message handling
messages:
  show_typing: true
  max_length:
    telegram: 4096
    discord: 2000
    signal: 2000
  timeout: 300

# Reliability settings
reliability:
  auto_reconnect: true
  reconnect_delay_seconds: 5
  # -1 = infinite reconnection attempts
  max_reconnect_attempts: -1
  heartbeat_interval_seconds: 60

  # Resource limits to prevent VPS overload
  max_concurrent_messages: 5
  rate_limit_per_minute: 30
